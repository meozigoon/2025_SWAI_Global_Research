<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>2025 SWAI Global Research PIT Crew</title>
        <!-- Mermaid JS -->
        <script src="./logic_files/mermaid.min.js"></script>
        <style>
            /* 기본 리셋 */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                background-color: #111;
                color: #eee;
                font-family: "Roboto", sans-serif;
                display: flex;
                flex-direction: column;
                min-height: 100vh;
            }
            header {
                background-color: #e10600; /* F1 레드 */
                padding: 1rem;
                text-align: center;
                position: relative;
            }
            /* 체크무늬 패턴 */
            header::after {
                content: "";
                position: absolute;
                bottom: -10px;
                left: 0;
                width: 100%;
                height: 20px;
                background-image: repeating-linear-gradient(
                    45deg,
                    #111 0,
                    #111 10px,
                    #eee 10px,
                    #eee 20px
                );
            }
            header h1 {
                color: #fff;
                font-size: 2rem;
                z-index: 1;
                position: relative;
            }
            main {
                flex: 1;
                padding: 2rem;
            }
            .mermaid {
                background: #222;
                padding: 1rem;
                border: 2px solid #e10600;
                border-radius: 8px;
                max-width: 100%;
                overflow-x: auto;
            }
            footer {
                text-align: center;
                padding: 1rem;
                background: #111;
                font-size: 0.9rem;
            }
        </style>
        <script>
            // mermaid 초기화: startOnLoad false로 설정
            mermaid.initialize({ startOnLoad: false, theme: "dark" });
        </script>
    </head>
    <body>
        <header>
            <h1>PIT Crew</h1>
        </header>
        <main>
            <h1 style="text-align: center">2025 SWAI Global Research</h1>
            <h2 style="text-align: center">Circuit</h2>
            <div
                style="
                    display: flex;
                    justify-content: center;
                    align-items: center;
                "
            >
                <img
                    src="img/circuit.png"
                    style="max-width: 100%; height: auto"
                />
            </div>
            <h2 style="text-align: center"><br />Flowchart</h2>
            <div
                style="
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    width: 100%;
                "
            >
                <div
                    id="flowchart"
                    class="mermaid"
                    style="max-width: 70%; width: 100%; height: auto"
                >
                    Loading diagram...
                </div>
            </div>
        </main>
        <footer>&copy; 2025 PIT Crew</footer>
        <script>
            // 외부 .mmd 파일 불러와 렌더링
            fetch("flowchart.mmd")
                .then((response) => response.text())
                .then((code) => {
                    const chartDiv = document.getElementById("flowchart");
                    chartDiv.textContent = code;
                    mermaid.init(undefined, chartDiv);
                })
                .catch((err) => {
                    document.getElementById("flowchart").textContent =
                        "다이어그램 로드 실패: " + err;
                });
        </script>
    </body>
</html>
